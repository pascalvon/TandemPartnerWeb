<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<!--Templates einbinden-->
<ui:composition template="/WEB-INF/templates/standardtemplate.xhtml">
    <ui:define name="pagetitle">Suchanfrage starten tandemPartner</ui:define>

    <!--body-Inhalt vom Template abweichend-->
    <ui:define name="content">

        <h1 style="text-align: center">Gib Deine Suchkriterien ein!</h1>
        <br/>
        <h:form>
            <!--Sprach- und Geschlechterwahl-->
            <b:row>
                <b:column medium-screen="1"/>

                <b:column medium-screen="4">
                    <b:formGroup>
                        <b:selectOneMenu id="sprache" value="#{suchanfrageManagedBean.suchanfrage.paramSpracheID}"
                                         required="true" label="Ich will lernen:" labelmedium-screen="2">
                            <f:selectItem itemLabel="Bosnisch" itemValue="1"/>
                            <f:selectItem itemLabel="Bulgarisch" itemValue="2"/>
                            <f:selectItem itemLabel="Chinesisch" itemValue="3"/>
                            <f:selectItem itemLabel="Dänisch" itemValue="4"/>
                            <f:selectItem itemLabel="Deutsch" itemValue="5"/>
                            <f:selectItem itemLabel="Englisch" itemValue="6"/>
                            <f:selectItem itemLabel="Finnisch" itemValue="7"/>
                            <f:selectItem itemLabel="Französisch" itemValue="8"/>
                            <f:selectItem itemLabel="Griechisch" itemValue="9"/>
                            <f:selectItem itemLabel="Irisch" itemValue="10"/>
                            <f:selectItem itemLabel="Isländisch" itemValue="11"/>
                            <f:selectItem itemLabel="Italienisch" itemValue="12"/>
                            <f:selectItem itemLabel="Japanisch" itemValue="13"/>
                            <f:selectItem itemLabel="Kroatisch" itemValue="14"/>
                            <f:selectItem itemLabel="Niederländisch" itemValue="15"/>
                            <f:selectItem itemLabel="Norwegisch" itemValue="16"/>
                            <f:selectItem itemLabel="Polnisch" itemValue="17"/>
                            <f:selectItem itemLabel="Portugiesisch" itemValue="18"/>
                            <f:selectItem itemLabel="Rumänisch" itemValue="19"/>
                            <f:selectItem itemLabel="Russisch" itemValue="20"/>
                            <f:selectItem itemLabel="Schwedisch" itemValue="21"/>
                            <f:selectItem itemLabel="Slowenisch" itemValue="22"/>
                            <f:selectItem itemLabel="Spanisch" itemValue="23"/>
                            <f:selectItem itemLabel="Tschechisch" itemValue="24"/>
                            <f:selectItem itemLabel="Türkisch" itemValue="25"/>
                            <f:selectItem itemLabel="Ukrainisch" itemValue="26"/>
                            <f:selectItem itemLabel="Ungarisch" itemValue="27"/>
                            <f:selectItem itemLabel="Vietnamesisch" itemValue="28"/>
                            <f:selectItem itemLabel="Weißrussisch" itemValue="29"/>

                            <f:validator validatorId="spracheValidatorSuchanfrage"/>
                            <f:ajax event="blur" execute="sprache" render="m_sprache"/>
                        </b:selectOneMenu>
                        <b:messages id="m_sprache" for="sprache"/>
                    </b:formGroup>
                </b:column>
                <b:column medium-screen="4">
                    <b:formGroup>
                        <b:selectOneMenu value="#{suchanfrageManagedBean.suchanfrage.paramGeschlecht}"  required="true" label="Geschlecht:" labelmedium-screen="4">
                            <f:selectItem itemLabel="weiblich und männlich" itemValue="EGAL" />
                            <f:selectItem itemLabel="männlich"  itemValue="MAENNLICH"/>
                            <f:selectItem itemLabel="weiblich" itemValue="WEIBLICH"/>
                        </b:selectOneMenu>
                    </b:formGroup>
                </b:column>
            </b:row><!--1.Reihe Ende-->

            <!-- Auswahl Minimum & Maximum Alter-->
            <b:row>
                <b:column medium-screen="1"/>

                <b:column medium-screen="4">
                    <b:inputText  id="minAlter" label="Alter von:" placeholder="Mindestalter" required="true" value="#{suchanfrageManagedBean.suchanfrage.paramAlterMin}"/>
                </b:column>
                <b:column medium-screen="4">
                    <b:inputText  id="maxAlter" label="Alter bis:" placeholder="Maximalalter" required="true" value="#{suchanfrageManagedBean.suchanfrage.paramAlterMax}"/>
                </b:column>
            </b:row><!--2.Reihe Ende-->

            <!--Auswahl Freizeitaktivitäten-->
            <b:row>
                <b:column medium-screen="1"/>

                <b:column medium-screen="4">
                    <h:outputLabel value="Freizeitaktivitäten:" for="aktivitätenwahl" />
                    <b:selectMultiMenu value="#{suchanfrageManagedBean.selectedFreizeitaktivitaetenString}" id="aktivitätenwahl" maxHeight="200">
                        <f:selectItems var="aktivitaet"
                                       value="#{suchanfrageManagedBean.allFreizeitaktivitaetenList}" itemValue="#{aktivitaet.nameAktivitaet}" itemLabel="#{aktivitaet.nameAktivitaet}"/>

                    </b:selectMultiMenu>
                </b:column>
            </b:row><!-- 3.Reihe Ende-->

            <h3 style="text-align: center">Gespeicherte Suchanfragen</h3>

            <b:dataTable value="#{suchanfrageManagedBean.suchanfrageArrayList}" var="suchanfrage"
                         striped="#{dataTableSettingsBean.striped}"
                         paginated="#{dataTableSettingsBean.paginated}"
                         searching="false"
                         customLangUrl="//cdn.datatables.net/plug-ins/1.10.12/i18n/German.json">
                <b:dataTableColumn label="Sprache" value="#{suchanfrageManagedBean.showSpracheName(suchanfrage.paramSpracheID)}"/>
                <b:dataTableColumn label="Mindestalter" value="#{suchanfrage.paramAlterMin}"/>
                <b:dataTableColumn label="Maximalalter" value="#{suchanfrage.paramAlterMax}"/>
                <b:dataTableColumn label="Geschlecht" value="#{suchanfrage.paramGeschlecht}"/>
                <b:dataTableColumn label="Suchanfrage löschen">
                    <b:commandButton value="Löschen" immediate="true" icon="trash"
                                     action="#{suchanfrageManagedBean.deleteSuchanfrage(suchanfrage)}"/>
                </b:dataTableColumn>
                <b:dataTableColumn label="Suchanfrage verwenden">
                    <b:commandButton value="Verwenden" immediate="true" action="#{suchanfrageManagedBean.useSuchanfrage(suchanfrage)}"/>
                </b:dataTableColumn>
            </b:dataTable>

            <br/>
            <br/>

            <!--Buttons Begin-->
            <b:row>
                <b:column  medium-screen="4"/>
                <b:column medium-screen="2">
                    <b:commandButton style="width:100%" action="#{suchanfrageManagedBean.search}" value="Suche starten" name="action"/>

                </b:column>
                <b:column medium-screen="2">
                    <b:button style="width:100%" value="Abbrechen" href="home.xhtml" action="home.xhtml?faces-redirect=true"/>
                </b:column>
            </b:row><!--Buttons Ende-->

        </h:form>

    </ui:define><!-- content defining Ende-->
</ui:composition>
</html>
